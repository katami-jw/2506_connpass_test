<!DOCTYPE html>
<html>
<head>
    <title>ã‚¬ãƒãƒ£é¢¨ã‚¢ãƒ—ãƒªï¼ˆç¢ºç‡æŒ‡å®šï¼‰</title>
    <style>
        body {
            font-family: sans-serif;
            text-align: center;
            padding-top: 50px;
            background-color: #f0f0f0;
        }
        #result {
            margin-top: 30px;
            font-size: 32px;
            font-weight: bold;
            color: #d42;
            height: 50px;
        }
        #gachaBtn {
            font-size: 20px;
            padding: 10px 30px;
        }
    </style>
</head>
<body>
    <h1>ğŸ° ã‚¬ãƒãƒ£ï¼ˆç¢ºç‡æŒ‡å®šï¼‰</h1>
    <p>å€™è£œã‚’ <strong>åå‰:ç¢ºç‡</strong> ã®å½¢å¼ã§ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§å…¥åŠ›ã—ã¦ãã ã•ã„</p>
    <p>ä¾‹ï¼šSSRãƒ‰ãƒ©ã‚´ãƒ³:1, SRãƒŠã‚¤ãƒˆ:9, Rã‚¹ãƒ©ã‚¤ãƒ :90</p>
    <input type="text" id="inputItems" placeholder="ä¾‹ï¼šSSR:1,SR:9,R:90" size="50">
    <br><br>
    <button id="gachaBtn">å¼•ãï¼</button>
    <div id="result"></div>

    <script>
        const btn = document.getElementById("gachaBtn");
        const result = document.getElementById("result");

        btn.onclick = () => {
            const input = document.getElementById("inputItems").value;
            const parts = input.split(",").map(i => i.trim()).filter(i => i);
            if (parts.length === 0) {
                alert("å€™è£œã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼");
                return;
            }

            const pool = [];
            for (const part of parts) {
                const [name, weightStr] = part.split(":").map(p => p.trim());
                const weight = parseInt(weightStr);
                if (!name || isNaN(weight) || weight <= 0) continue;
                for (let i = 0; i < weight; i++) {
                    pool.push(name);
                }
            }

            if (pool.length === 0) {
                alert("æœ‰åŠ¹ãªå€™è£œãŒã‚ã‚Šã¾ã›ã‚“ï¼");
                return;
            }

            let count = 0;
            let maxCount = 20;
            let interval = setInterval(() => {
                const i = Math.floor(Math.random() * pool.length);
                result.innerText = pool[i];
                count++;
                if (count >= maxCount) {
                    clearInterval(interval);
                    result.innerText = `ğŸ‰ å½“ãŸã‚Šï¼š${pool[i]} ğŸ‰`;
                }
            }, 100);
        };
    </script>
</body>
</html>
